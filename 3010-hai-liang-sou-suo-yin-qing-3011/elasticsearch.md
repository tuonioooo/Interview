**1.query是怎么分发到每个节点的？**

**2.Elasticsearch使用上的优化有哪些？**

**3.怎么避免脑裂？**

**4.query和filter的区别？**

**5.Elasticsearch的缺点有哪些？你觉得可以在哪些地方进行改进？**

**6.Lucene加快查询的机制有哪些？**

**7.如何使用Lucene构建分布式索引？**

**8.说一下master节点选举算法**

**9.Elasticsearch出现OOM的场景遇到过吗？**

**10.说一下副本的作用。**

**11.每天2个TB的数据怎么规划集群？**

**12.比较一下向量空间模型和概率检索模型的优缺点。**

**13.DocValues的作用。**

**14.一个索引下多个type可能会导致什么样的问题？**

**15.Elasticsearch 与 Solr 的比较总结** 参考：\([https://www.cnblogs.com/charlesblc/p/6233938.html](https://www.cnblogs.com/charlesblc/p/6233938.html%29\)

* 二者安装都很简单；
* Solr 利用 Zookeeper 进行分布式管理，而 Elasticsearch 自身带有分布式协调管理功能;
* Solr 支持更多格式的数据，而 Elasticsearch 仅支持json文件格式；
* Solr 官方提供的功能更多，而 Elasticsearch 本身更注重于核心功能，高级功能多有第三方插件提供；
* Solr 在传统的搜索应用中表现好于 Elasticsearch，但在处理实时搜索应用时效率明显低于 Elasticsearch。
* Solr 是传统搜索应用的有力解决方案，但 Elasticsearch 更适用于新兴的实时搜索应用。

**16.IK分词器的类型？**

Ik\_smart分词器 和 ik\_max\_word 分词器

**17.如何检查Elasticsearch服务器是否正在运行?**

通常，_ElasticSearch_使用9200-9300的端口范围。因此，要检查它是否在您的服务器上运行，只需键入主页的URL，然后输入端口号。例如：mysitename.com:9200

**18.列出Elasticsearch的不同类型的查询？**

* 基于全文检索：匹配查询、匹配词组查询、多匹配查询、匹配词组前缀查询、常用词查询、查询字符串查询、简单查询字符串查询。

* 基于词条检索：词条查询、词条集查询、范围查询、前缀查询、通配符查询、regexp查询、模糊查询、存在查询、类型查询、id查询

**19.如何在Elasticsearch群集中添加或创建索引？**

通过在索引名称之前使用命令PUT，创建索引，如果要添加另一个索引，则在索引名称前使用命令POST。

**20.什么是文档？**

Elasticsearch中的文档与关系数据库中的行类似。唯一的区别是索引中的每个文档都可以具有不同的结构或字段但对于公共字段必须具有相同的数据类型。文档中的每个数据类型不同的字段可以出现多次。这些字段还可以包含其他文档

**21.什么是SHARDS？**

由于应用程序在不同的机器上使用了多个ElasticSearch实例，因此在扩展方面存在诸如RAM、VCPU等资源限制。索引中的数据可以分为多个部分，由一个单独的ElasticSearch节点或实例管理。每个部分称为一个SHARDS。默认情况下，ElasticSearch索引有5个SHARDS。

**22.如何在ES中列出集群的所有索引？**

通过使用_ GET / \_index name/ indices_，我们可以获得集群中存在的索引列表

**23.什么是REPLICAS？**

每个分片的分片副本

**24.基于词条的查询和全文的查询有什么区别？**

* 基于词条的查询：词条查询或模糊查询等查询是没有分析阶段的低级查询。词条查询术语Foo在倒排索引中搜索确切的词条并计算IDF / TF相关性分数对于每个有词条的文档。

* 全文查询：匹配查询或查询字符串查询等查询是了解字段映射的高级查询。只要查询汇总了完整的项目列表，它就会为每个项执行适当的低级查询，最后结合他们的结果来产生每个文档的相关性分数。



